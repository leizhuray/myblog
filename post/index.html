<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>博客 | 首页</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="文字是有味道的，每个人的文章都有自己的特色。在这里我希望可以记录自己生活的与学习的美好瞬间，与大家分享。">
    <meta name="generator" content="Hugo 0.65.0" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    

  
  
    <link rel="stylesheet" href="/myblog/ananke/dist/main.css_5c99d70a7725bacd4c701e995b969fea.css" >
  




    
      

    

    
    
      <link href="/myblog/post/index.xml" rel="alternate" type="application/rss+xml" title="首页" />
      <link href="/myblog/post/index.xml" rel="feed" type="application/rss+xml" title="首页" />
      
    
    
    <meta property="og:title" content="博客" />
<meta property="og:description" content="文字是有味道的，每个人的文章都有自己的特色。在这里我希望可以记录自己生活的与学习的美好瞬间，与大家分享。" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://leizhuray.me/myblog/post/" />
<meta property="og:updated_time" content="2017-03-02T12:00:00-05:00" /><meta property="og:site_name" content="首页" />
<meta itemprop="name" content="博客">
<meta itemprop="description" content="文字是有味道的，每个人的文章都有自己的特色。在这里我希望可以记录自己生活的与学习的美好瞬间，与大家分享。"><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="博客"/>
<meta name="twitter:description" content="文字是有味道的，每个人的文章都有自己的特色。在这里我希望可以记录自己生活的与学习的美好瞬间，与大家分享。"/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    

  
  
  <header class="cover bg-top" style="background-image: url('http://leizhuray.me/myblog/image/article.jpeg');">
    <div class="bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/myblog/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        首页
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/myblog/about/" title="关于我 page">
              关于我
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/myblog/post/" title="博客 page">
              博客
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/myblog/contact/" title="联系我 page">
              联系我
            </a>
          </li>
          
        </ul>
      
      















    </div>
  </div>
</nav>

      <div class="tc-l pv4 pv6-l ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 white-90 mb0 lh-title">
          博客
        </h1>
        
          <h2 class="fw1 f5 f3-l white-80 measure-wide-l center mt3">
            文字是有味道的，每个人的文章都有自己的特色。在这里我希望可以记录自己生活的与学习的美好瞬间，与大家分享。
          </h2>
        
      </div>
    </div>
  </header>


    <main class="pb7" role="main">
      

  <article class="pa3 pa4-ns nested-copy-line-height nested-img">
    <section class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy mid-gray">
      <p>世界上只有一种真正的英雄主义，就是认清了生活的真相后还依然热爱它。      &ndash; 罗曼·罗兰</p>

    </section>
    <aside class="flex-ns flex-wrap justify-around mt5">
      
        <div class="relative w-100 w-30-l mb4 bg-white">
          
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        March 31, 2021
      </div>
    
    <h1 class="f3 near-black">
      <a href="http://leizhuray.me/myblog/post/mac_battery/" class="link black dim">
        Mac 合盖掉电(休眠掉电)解决方法
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Mac在合盖之后还在掉电，第二天打开一看，只有40%的电量。针对合盖掉电的问题可能有以下解决方法。
1、重置Mac的SMC 根据Mac官方的提示，重置爱SMC可以解决某些电源，电池，风扇相关的问题。重置方法如下： 如何重置 Mac 的 SMC
​Mac官方针对不同型号的电脑都给出了相关的设置方法。根据教程设置后可能可以解决相关的问题。
2、在终端中修改电源选项 在终端中查询相关状态，不了解终端是什么东东的朋友可以翻看我之前的文章。 终端
简洁版本： 为了节约大家时间，这里给一个简单版本。
 1.合盖后关闭网络唤醒：  sudo pmset -b tcpkeepalive 0  2.减小合盖后数据在内存中保留的时间（默认8个小时 = 28800秒）  sudo pmset -b standbydelay 14400  3.减小装数据写入硬盘彻底断电的时间  sudo pmset -b autopoweroffdelay 14400  4.修改休眠模式  sudo pmset -b hibernatemode 25 （需要说明的是，修改为25之后，唤醒会稍微变慢，大约需要4~5s，介意者可修改为3） 注意以上操作都需要在敲入命令后输入自己的开机密码然后按回车。
详细版本 在终端中输入pmset -g，查看相关的电源设置(power managment settings，电源管理设置的意思)；在插电源使用时看到的是插电源状态下的设置，合盖掉电应该是电池状态下的问题，建议拔掉电源后再输入指令。
 System-wide power settings: Currently in use: lidwake 1 autopoweroff 1 standbydelayhigh 86400 autopoweroffdelay 28800 proximitywake 0 standby 1 standbydelaylow 10800 ttyskeepawake 1 hibernatemode 25 powernap 0 gpuswitch 2 hibernatefile /var/vm/sleepimage highstandbythreshold 50 displaysleep 5 sleep 5 (sleep prevented by timed) acwake 0 halfdim 1 tcpkeepalive 0 disksleep 10 输入pmset -g后会输出现在相关的状态信息，我这里把出现的各个项目按顺序简要说明一下。
    </div>
  </div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
          
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        February 21, 2021
      </div>
    
    <h1 class="f3 near-black">
      <a href="http://leizhuray.me/myblog/post/hydro_code/" class="link black dim">
        流体程序介绍
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      简单的一维流体程序  记得我第一次接触CFD(computational fluid dynamics)时，一脸的忙乱。师兄丢给我一本Toro的Riemann Solvers and Numerical Methods for Fluid Dynamics。这本书确实挺好的，但对零基础的我这样的小白来说，看完之后还是一脸懵逼，依然不明白它有什么用。经过最近两年的捶打，我越来越觉得入门应该是自己动手去写一个简单的流体code，边学边用，才会更明白书中的那些公式所代表的物理内涵。
欧拉方程  与Toro的书类似，我们也从欧拉方程开始。欧拉方程是用来描述无粘性可压缩（或者不可压缩）流体的控制方程，包含质量守恒，动量守恒和能量守恒三个方程式；是非线性双曲偏微分方程。守恒形式为：
$$ \frac{\partial \mathbf{U}}{\partial t}+\frac{\partial \mathbf{F}}{\partial x}+\frac{\partial \mathbf{G}}{\partial y}+\frac{\partial \mathbf{H}}{\partial z}=0 $$
 其中 $$ \left.\begin{array}{l}\mathbf{U}=\left[\begin{array}{c}\rho \ \rho u \ \rho v \ \rho w \ E\end{array}\right], \mathbf{F}=\left[\begin{array}{c}\rho u \ \rho u^{2}+p \ \rho u v \ \rho u w \ u(E+p)\end{array}\right] \ \mathbf{G}=\left[\begin{array}{c}\rho v \ \rho u^{2}+p \ \rho v w \ v(E+p)\end{array}\right], \mathbf{H}=\left[\begin{array}{c}\rho w \ \rho u w \ \rho v w \ \rho w^{2}+p \ w(E+p)\end{array}\right]\end{array}\right} $$
    </div>
  </div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
          
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        February 1, 2021
      </div>
    
    <h1 class="f3 near-black">
      <a href="http://leizhuray.me/myblog/post/flash_03/" class="link black dim">
        Flash 程序使用总结(3)
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Flash程序使用（三）  在上一章节中主要写了LaserSlab case中各个文件的主要内容及其作用。理解这些文件是非常重要的，后续如果想修改自己的case，每个文件都需要去掌握的。这一节我们讲一下如何安装运行LaserSlab case以及利用Visit程序来进行初步的可视化，后续会讲解利用yt程序来进行后处理操作。
LaserSlab案例运行及数据可视  关于LaserSlab case的详细信息可以在Flash的User guide（4.6版本）的第541页的34.7.5节。书上有对这部分内容的详细讲解，包括每个命令所代表的含义，以及flash.par文件中每部分命令语句的作用。今天主要想讲的是case生成以及其后处理方法。
LaserSlab的setup命令  在Flash文件夹下运行以下命令:
./setup -auto LaserSlab -2d -nxb=16 -nyb=16 +hdf5typeio species=cham,targ +mtmmmt +laser +uhd3t +mgd mgd_meshgroups=6 -parfile=example.par -objdir=LaserSlab  将在LaserSlab文件夹中生成激光打靶case。我们cd进入该文件夹之后，输入make -j 4可以进行并行编译，在编译成功后对生成的flash4程序运行，即可以输出以“lasslab_”开头的一系列数据文件（如果电脑或者服务器有多个核的，建议并行运行，速度更快）。这个就是生成的数据。生成的数据类型主要有两类，一类是以“chk”为关键词的完全数据，一个是以“cnt”为关键词的部分数据类型。“cnt”数据文件中的输出可以在flash.par中通过&quot;plot_var_n&quot;关键字指定。
Visit数据可视化  VisIt是劳伦斯利福摩尔国家实验室开发的一个开源型交互式并行可视化与图形分析工具，用于查看科学数据。利用VisIt，可以可视化二维几何模型以及三维空间结构化和非结构化网格之中所定义的标量场和矢量场。其可以支持绘制很多模拟软件运算产生的数据。接下来通过图示的方法说明利用VisIt对Flash数据文件进行可视化绘图的操作。
Visit软件下载
 Visit可以从官方链接上来下载。根据自己电脑系统的版本来选择合适的安装包安装即可。  可视化操作步骤
 打开软件后选择open，进入到存储数据的文件夹； 在open file type as那一行中选择FLASH，必须选为flash，否则会出错 单击OK，载入数据  绘制密度信息
 单击Add，选择伪彩图项目，选择dens项 在图2中我们可以发现我们的Al靶放置于BOX上端 dens数据的单位是$g/cm^3$  绘制激光能量沉积
 单击Add，选择伪彩图项目，选择depo项 然后点击工具栏中的depo，弹出参数修改按钮 修改最大值以及不透明程度，可以将其叠加在dens图上 通过depo项可简单观察激光光路轨迹  其他的项目可以自行探索，在Visit中也可以实现非常复杂的绘图操作，特别是有些三维绘图，利用Visit会非常简单。
后记 接下来一章，我们会分析Flash中自适应网格的划分方法，这对自己编写后处理脚本非常重要。在这之前我可能会写一篇利用python写一个简单的一维流体程序文章，主要讲解理想欧拉方程。
    </div>
  </div>

        </div>
      
    </aside>
    

<ul class="pagination">
    
    <li class="page-item">
        <a href="/myblog/post/" class="page-link" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li class="page-item disabled">
    <a  class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item active"><a class="page-link" href="/myblog/post/">1</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/myblog/post/page/2/">2</a></li>
    
    
    <li class="page-item">
    <a href="/myblog/post/page/2/" class="page-link" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li class="page-item">
        <a href="/myblog/post/page/2/" class="page-link" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>


  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://leizhuray.me/myblog/" >
    &copy;  首页 2021 
  </a>
    <div>














</div>
  </div>
</footer>

  </body>
</html>
